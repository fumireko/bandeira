<div class="mt-3 text-center">

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Qtde.</th>
                    <th>Item</th>
                    <th>Preço</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of getItens()">
                    <td>{{ item.quantidade }}</td>
                    <td>{{ item.produto.nome }}</td>
                    <td>R${{ item.produto.preco.toFixed(2) }}</td>
                </tr>
                <tr class="fw-bold fs-3 mx-5">
                    <td>Total</td>
                    <td></td>
                    <td>R${{ totalPedido(getItens()) }}</td>
                </tr>
            </tbody>
        </table>

        <hr>

    <div class="form-check form-check-inline mx-3">
      <input class="form-check-input" type="radio" name="opcao" id="entrega" (change)="onRadioChange($event)" [checked]="opcaoSelecionada === 'entrega'">
      <label class="fs-5 form-check-label" for="entrega" [class.text-primary]="opcaoSelecionada === 'entrega'">Entrega</label>
    </div>
    <div class="form-check form-check-inline mx-3">
      <input class="form-check-input" type="radio" name="opcao" id="retirada" (change)="onRadioChange($event)" [checked]="opcaoSelecionada === 'retirada'">
      <label class="fs-5 form-check-label" for="retirada" [class.text-primary]="opcaoSelecionada === 'retirada'">Retirada</label>
    </div>    
</div>

<div [ngSwitch]="opcaoSelecionada">
    <div *ngSwitchCase="'entrega'">
        <form class="mx-3 mt-3" #formEntrega="ngForm">
            <label class="form-label">Cidade:</label>
            <select class="form-select mb-3" required [(ngModel)]="cidade" name="cidade">
                <option selected disabled>Selecione uma cidade...</option>
                <option value="Rio Branco do Sul">Rio Branco do Sul</option>
                <option value="Itaperuçu">Itaperuçu</option>
                <option value="Almirante Tamandaré">Almirante Tamandaré</option>
            </select>

            <label class="form-label">Endereço:</label>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Rua" required [(ngModel)]="logradouro" name="logradouro">
                <span class="input-group-text">Nº</span>
                <input type="text" class="form-control" placeholder="123" required [(ngModel)]="numero_predial" name="numero_predial">
            </div>          
            
            <label class="form-label">Bairro:</label>
            <input type="text" class="form-control mb-3" placeholder="Bairro" required [(ngModel)]="bairro" name="bairro">

            <label class="form-label">Referência:</label>
            <input type="text" class="form-control mb-3" placeholder="Ponto de Referência" required [(ngModel)]="referencia" name="referencia">

            <div class="fs-5 mt-3 text-center row">
                <h5>Forma de pagamento:</h5>
                <span class="form-text" *ngIf="opcaoPagamento === 'pix'">A chave de pagamento PIX é 12345678. Envie o comprovante pelo WhatsApp.</span>
                <div class="px-5 col-6">
                <input class="form-check-input" type="radio" name="opcao" id="cartao" (change)="selectPagamento($event)" [checked]="opcaoPagamento === 'cartao'">
                <br>
                <label class="form-check-label" for="cartao">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M0 8v-3c0-1.105.895-2 2-2h20c1.104 0 2 .895 2 2v3h-24zm24 3v8c0 1.104-.896 2-2 2h-20c-1.105 0-2-.896-2-2v-8h24zm-15 6h-6v1h6v-1zm3-2h-9v1h9v-1zm9 0h-3v1h3v-1z"/></svg>
                    <br>Cartão</label>
                </div>
                <div class="px-5 col-6">
                <input class="form-check-input" type="radio" name="opcao" id="pix" (change)="selectPagamento($event)" [checked]="opcaoPagamento === 'pix'">
                <br>
                <label class="form-check-label" for="pix">
                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><path d="M242.4 292.5C247.8 287.1 257.1 287.1 262.5 292.5L339.5 369.5C353.7 383.7 372.6 391.5 392.6 391.5H407.7L310.6 488.6C280.3 518.1 231.1 518.1 200.8 488.6L103.3 391.2H112.6C132.6 391.2 151.5 383.4 165.7 369.2L242.4 292.5zM262.5 218.9C256.1 224.4 247.9 224.5 242.4 218.9L165.7 142.2C151.5 127.1 132.6 120.2 112.6 120.2H103.3L200.7 22.76C231.1-7.586 280.3-7.586 310.6 22.76L407.8 119.9H392.6C372.6 119.9 353.7 127.7 339.5 141.9L262.5 218.9zM112.6 142.7C126.4 142.7 139.1 148.3 149.7 158.1L226.4 234.8C233.6 241.1 243 245.6 252.5 245.6C261.9 245.6 271.3 241.1 278.5 234.8L355.5 157.8C365.3 148.1 378.8 142.5 392.6 142.5H430.3L488.6 200.8C518.9 231.1 518.9 280.3 488.6 310.6L430.3 368.9H392.6C378.8 368.9 365.3 363.3 355.5 353.5L278.5 276.5C264.6 262.6 240.3 262.6 226.4 276.6L149.7 353.2C139.1 363 126.4 368.6 112.6 368.6H80.78L22.76 310.6C-7.586 280.3-7.586 231.1 22.76 200.8L80.78 142.7H112.6z"/></svg>
                    <br>PIX</label>
                </div>    
            </div>

            <button class="btn btn-success col-12 mt-3"
                (click)="criarPedido()"
                [disabled]="!formEntrega.form.valid">
                <svg style="fill:white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                Enviar pedido
            </button>        
        </form>
    </div>

    <div *ngSwitchCase="'retirada'">
        <form class="mx-3 mt-3" #formRetirada="ngForm">

            <label class="form-label">Nome:</label>
            <input type="text" class="form-control mb-3" placeholder="Nome completo" required [(ngModel)]="nome_cliente" name="nome_cliente">

            <label class="form-label">Telefone para contato:</label>
            <input type="text" class="form-control mb-3" placeholder="(__) ____-____" required [(ngModel)]="tel_cliente" name="tel_cliente">

            <div class="fs-5 mt-3 text-center row">
                <h5>Forma de pagamento:</h5>
                <span class="form-text" *ngIf="opcaoPagamento === 'pix'">A chave de pagamento PIX é 12345678. Envie o comprovante pelo WhatsApp.</span>
                <div class="px-5 col-6">
                <input class="form-check-input" type="radio" name="opcao" id="cartao" (change)="selectPagamento($event)" [checked]="opcaoPagamento === 'cartao'">
                <br>
                <label class="form-check-label" for="cartao">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M0 8v-3c0-1.105.895-2 2-2h20c1.104 0 2 .895 2 2v3h-24zm24 3v8c0 1.104-.896 2-2 2h-20c-1.105 0-2-.896-2-2v-8h24zm-15 6h-6v1h6v-1zm3-2h-9v1h9v-1zm9 0h-3v1h3v-1z"/></svg>
                    <br>Cartão</label>
                </div>
                <div class="px-5 col-6">
                <input class="form-check-input" type="radio" name="opcao" id="pix" (change)="selectPagamento($event)" [checked]="opcaoPagamento === 'pix'">
                <br>
                <label class="form-check-label" for="pix">
                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><path d="M242.4 292.5C247.8 287.1 257.1 287.1 262.5 292.5L339.5 369.5C353.7 383.7 372.6 391.5 392.6 391.5H407.7L310.6 488.6C280.3 518.1 231.1 518.1 200.8 488.6L103.3 391.2H112.6C132.6 391.2 151.5 383.4 165.7 369.2L242.4 292.5zM262.5 218.9C256.1 224.4 247.9 224.5 242.4 218.9L165.7 142.2C151.5 127.1 132.6 120.2 112.6 120.2H103.3L200.7 22.76C231.1-7.586 280.3-7.586 310.6 22.76L407.8 119.9H392.6C372.6 119.9 353.7 127.7 339.5 141.9L262.5 218.9zM112.6 142.7C126.4 142.7 139.1 148.3 149.7 158.1L226.4 234.8C233.6 241.1 243 245.6 252.5 245.6C261.9 245.6 271.3 241.1 278.5 234.8L355.5 157.8C365.3 148.1 378.8 142.5 392.6 142.5H430.3L488.6 200.8C518.9 231.1 518.9 280.3 488.6 310.6L430.3 368.9H392.6C378.8 368.9 365.3 363.3 355.5 353.5L278.5 276.5C264.6 262.6 240.3 262.6 226.4 276.6L149.7 353.2C139.1 363 126.4 368.6 112.6 368.6H80.78L22.76 310.6C-7.586 280.3-7.586 231.1 22.76 200.8L80.78 142.7H112.6z"/></svg>
                    <br>PIX</label>
                </div>    
            </div>

            <button class="btn btn-success col-12 mt-3"
                (click)="criarPedido()"
                [disabled]="!formEntrega.form.valid">
                <svg style="fill:white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                Enviar pedido
            </button>        

        </form>
    </div>
</div>